package MyFirstGUIPackage;

import java.awt.EventQueue;
import javax.swing.*;
import java.awt.event.ActionListener;
import java.awt.event.ActionEvent;

public class SignUpApp extends JFrame {

    /**
	 * 
	 */
	private static final long serialVersionUID = 1L;
	private JTextField txtUsername;
    private JPasswordField txtPassword;
    private JPasswordField txtConfirmPassword;
    private JLabel lblMessage;

    // Stored account (basic variable)
    private String savedUsername;
    private String savedPassword;

    /**
     * Launch the application.
     */
    public static void main(String[] args) {
        EventQueue.invokeLater(new Runnable() {
            public void run() {
                try {
                    SignUpApp frame = new SignUpApp();
                    frame.setVisible(true);
                } catch (Exception e) {
                    e.printStackTrace();
                }
            }
        });
    }

    /**
     * Create the frame.
     */
    public SignUpApp() {
        setTitle("Sign Up");
        setBounds(100, 100, 480, 360);
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        setLayout(null);
        setLocationRelativeTo(null);

        JLabel lblTitle = new JLabel("SIGN UP");
        lblTitle.setBounds(200, 20, 200, 30);
        add(lblTitle);

        JLabel lblUsername = new JLabel("Username:");
        lblUsername.setBounds(80, 80, 120, 25);
        add(lblUsername);

        txtUsername = new JTextField();
        txtUsername.setBounds(220, 80, 160, 25);
        add(txtUsername);

        JLabel lblPassword = new JLabel("Password:");
        lblPassword.setBounds(80, 120, 120, 25);
        add(lblPassword);

        txtPassword = new JPasswordField();
        txtPassword.setBounds(220, 120, 160, 25);
        add(txtPassword);

        JLabel lblConfirm = new JLabel("Confirm Password:");
        lblConfirm.setBounds(80, 160, 140, 25);
        add(lblConfirm);

        txtConfirmPassword = new JPasswordField();
        txtConfirmPassword.setBounds(220, 160, 160, 25);
        add(txtConfirmPassword);

        JButton btnRegister = new JButton("Register");
        btnRegister.setBounds(80, 210, 130, 30);
        add(btnRegister);

        JButton btnClear = new JButton("Clear");
        btnClear.setBounds(250, 210, 130, 30);
        add(btnClear);

        lblMessage = new JLabel("");
        lblMessage.setBounds(80, 260, 320, 25);
        add(lblMessage);

        // REGISTER BUTTON
        btnRegister.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent e) {
                register();
            }
        });

        // CLEAR BUTTON
        btnClear.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent e) {
                txtUsername.setText("");
                txtPassword.setText("");
                txtConfirmPassword.setText("");
                lblMessage.setText("");
            }
        });
    }

    private void register() {
        String username = txtUsername.getText();
        String password = new String(txtPassword.getPassword());
        String confirm = new String(txtConfirmPassword.getPassword());

        if (username.isEmpty() || password.isEmpty() || confirm.isEmpty()) {
            JOptionPane.showMessageDialog(this,
                    "All fields are required!",
                    "Error",
                    JOptionPane.ERROR_MESSAGE);
            return;
        }

        if (!password.equals(confirm)) {
            JOptionPane.showMessageDialog(this,
                    "Passwords do not match!",
                    "Error",
                    JOptionPane.ERROR_MESSAGE);
            return;
        }

        // Save account (basic)
        savedUsername = username;
        setSavedPassword(password);

        lblMessage.setText("âœ… Account created successfully!");
        JOptionPane.showMessageDialog(this,
                "Sign up successful!\nUsername: " + savedUsername,
                "Success",
                JOptionPane.INFORMATION_MESSAGE);
    }

	public String getSavedPassword() {
		return savedPassword;
	}

	public void setSavedPassword(String savedPassword) {
		this.savedPassword = savedPassword;
	}
}
